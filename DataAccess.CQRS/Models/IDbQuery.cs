using System.Threading.Tasks;

namespace DataAccess.CQRS.Models
{
    /// <summary>
    /// Тип "запрос" (Query) - операция возвращающая данные , не имеет права ничего менять 
    /// </summary>
    public interface IDbQuery<TEntity, TSpecification> //where TEntity : class
    {
        /// <summary>
        /// некие параметры (спецификация) описывающая требования к возвращаемым данным
        /// </summary>
        TSpecification Spec { get; set; }

        TEntity GetResult();
        Task<TEntity> GetResultAsync();
    }

    // todo можно декомпозировать еще сильнее, разделив синхронные и асинхронные команды, например
    //public interface IDbQuery<out TEntity, TSpecification> 
    //    where TEntity : class
    //{
    //    TSpecification Spec { get; set; }
    //    TEntity GetResult();
    //}

    //public interface IDbAsyncQuery<TEntity, TSpecification> 
    //    : IDbQuery<Task<TEntity>, TSpecification>
    //    where TEntity : class
    //{
    //}
}